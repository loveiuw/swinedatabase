(function(){var a,b,c,d,e=[].slice,f=function(j,k){return function(){return j.apply(k,arguments)}},g={}.hasOwnProperty,h=function(j,k){function l(){this.constructor=j}for(var m in k){g.call(k,m)&&(j[m]=k[m])}return l.prototype=k.prototype,j.prototype=new l,j.__super__=k.prototype,j},i=[].indexOf||function(j){for(var k=0,l=this.length;l>k;k++){if(k in this&&this[k]===j){return k}}return -1};b=window.Morris={},a=jQuery,b.EventEmitter=function(){function j(){}return j.prototype.on=function(k,l){return null==this.handlers&&(this.handlers={}),null==this.handlers[k]&&(this.handlers[k]=[]),this.handlers[k].push(l),this},j.prototype.fire=function(){var k,l,m,n,o,p,q;if(m=arguments[0],k=2<=arguments.length?e.call(arguments,1):[],null!=this.handlers&&null!=this.handlers[m]){for(p=this.handlers[m],q=[],n=0,o=p.length;o>n;n++){l=p[n],q.push(l.apply(null,k))}return q}},j}(),b.commas=function(j){var k,l,m,n;return null!=j?(m=0>j?"-":"",k=Math.abs(j),l=Math.floor(k).toFixed(0),m+=l.replace(/(?=(?:\d{3})+$)(?!^)/g,","),n=k.toString(),n.length>l.length&&(m+=n.slice(l.length)),m):"-"},b.pad2=function(j){return(10>j?"0":"")+j},b.Grid=function(j){function k(l){this.resizeHandler=f(this.resizeHandler,this);var m=this;if(this.el="string"==typeof l.element?a(document.getElementById(l.element)):a(l.element),null==this.el||0===this.el.length){throw new Error("Graph container element not found")}"static"===this.el.css("position")&&this.el.css("position","relative"),this.options=a.extend({},this.gridDefaults,this.defaults||{},l),"string"==typeof this.options.units&&(this.options.postUnits=l.units),this.raphael=new Raphael(this.el[0]),this.elementWidth=null,this.elementHeight=null,this.dirty=!1,this.selectFrom=null,this.init&&this.init(),this.setData(this.options.data),this.el.bind("mousemove",function(n){var o,p,q,r,v;return p=m.el.offset(),v=n.pageX-p.left,m.selectFrom?(o=m.data[m.hitTest(Math.min(v,m.selectFrom))]._x,q=m.data[m.hitTest(Math.max(v,m.selectFrom))]._x,r=q-o,m.selectionRect.attr({x:o,width:r})):m.fire("hovermove",v,n.pageY-p.top)}),this.el.bind("mouseleave",function(){return m.selectFrom&&(m.selectionRect.hide(),m.selectFrom=null),m.fire("hoverout")}),this.el.bind("touchstart touchmove touchend",function(n){var o,p;return p=n.originalEvent.touches[0]||n.originalEvent.changedTouches[0],o=m.el.offset(),m.fire("hovermove",p.pageX-o.left,p.pageY-o.top)}),this.el.bind("click",function(n){var o;return o=m.el.offset(),m.fire("gridclick",n.pageX-o.left,n.pageY-o.top)}),this.options.rangeSelect&&(this.selectionRect=this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:!1}).toBack().hide(),this.el.bind("mousedown",function(n){var o;return o=m.el.offset(),m.startRange(n.pageX-o.left)}),this.el.bind("mouseup",function(n){var o;return o=m.el.offset(),m.endRange(n.pageX-o.left),m.fire("hovermove",n.pageX-o.left,n.pageY-o.top)})),this.options.resize&&a(window).bind("resize",function(){return null!=m.timeoutId&&window.clearTimeout(m.timeoutId),m.timeoutId=window.setTimeout(m.resizeHandler,100)}),this.el.css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),this.postInit&&this.postInit()}return h(k,j),k.prototype.gridDefaults={dateFormat:null,axes:!0,grid:!0,gridLineColor:"#aaa",gridStrokeWidth:0.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:!1,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:!1},k.prototype.setData=function(L,M){var N,O,P,Q,R,S,l,m,n,o,p,q,r,J,K;return null==M&&(M=!0),this.options.data=L,null==L||0===L.length?(this.data=[],this.raphael.clear(),null!=this.hover&&this.hover.hide(),void 0):(q=this.cumulative?0:null,r=this.cumulative?0:null,this.options.goals.length>0&&(R=Math.min.apply(Math,this.options.goals),Q=Math.max.apply(Math,this.options.goals),r=null!=r?Math.min(r,R):R,q=null!=q?Math.max(q,Q):Q),this.data=function(){var s,t,u;for(u=[],P=s=0,t=L.length;t>s;P=++s){l=L[P],S={src:l},S.label=l[this.options.xkey],this.options.parseTime?(S.x=b.parseDate(S.label),this.options.dateFormat?S.label=this.options.dateFormat(S.x):"number"==typeof S.label&&(S.label=new Date(S.label).toString())):(S.x=P,this.options.xLabelFormat&&(S.label=this.options.xLabelFormat(S))),n=0,S.y=function(){var v,w,x,y;for(x=this.options.ykeys,y=[],O=v=0,w=x.length;w>v;O=++v){p=x[O],J=l[p],"string"==typeof J&&(J=parseFloat(J)),null!=J&&"number"!=typeof J&&(J=null),null!=J&&(this.cumulative?n+=J:null!=q?(q=Math.max(J,q),r=Math.min(J,r)):q=r=J),this.cumulative&&null!=n&&(q=Math.max(n,q),r=Math.min(n,r)),y.push(J)}return y}.call(this),u.push(S)}return u}.call(this),this.options.parseTime&&(this.data=this.data.sort(function(s,t){return(s.x>t.x)-(t.x>s.x)})),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],this.options.events.length>0&&(this.events=this.options.parseTime?function(){var s,t,u,v;for(u=this.options.events,v=[],s=0,t=u.length;t>s;s++){N=u[s],v.push(b.parseDate(N))}return v}.call(this):this.options.events,this.xmax=Math.max(this.xmax,Math.max.apply(Math,this.events)),this.xmin=Math.min(this.xmin,Math.min.apply(Math,this.events))),this.xmin===this.xmax&&(this.xmin-=1,this.xmax+=1),this.ymin=this.yboundary("min",r),this.ymax=this.yboundary("max",q),this.ymin===this.ymax&&(r&&(this.ymin-=1),this.ymax+=1),((K=this.options.axes)===!0||"both"===K||"y"===K||this.options.grid===!0)&&(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])):(m=(this.ymax-this.ymin)/(this.options.numLines-1),this.grid=function(){var s,t,u,v;for(v=[],o=s=t=this.ymin,u=this.ymax;m>0?u>=s:s>=u;o=s+=m){v.push(o)}return v}.call(this))),this.dirty=!0,M?this.redraw():void 0)},k.prototype.yboundary=function(l,m){var n,o;return n=this.options["y"+l],"string"==typeof n?"auto"===n.slice(0,4)?n.length>5?(o=parseInt(n.slice(5),10),null==m?o:Math[l](m,o)):null!=m?m:0:parseInt(n,10):n},k.prototype.autoGridLines=function(p,q,r){var E,F,G,H,I,l,m,n,o;return I=q-p,o=Math.floor(Math.log(I)/Math.log(10)),m=Math.pow(10,o),F=Math.floor(p/m)*m,E=Math.ceil(q/m)*m,l=(E-F)/(r-1),1===m&&l>1&&Math.ceil(l)!==l&&(l=Math.ceil(l),E=F+l*(r-1)),0>F&&E>0&&(F=Math.floor(p/l)*l,E=Math.ceil(q/l)*l),1>l?(H=Math.floor(Math.log(l)/Math.log(10)),G=function(){var s,t;for(t=[],n=s=F;l>0?E>=s:s>=E;n=s+=l){t.push(parseFloat(n.toFixed(1-H)))}return t}()):G=function(){var s,t;for(t=[],n=s=F;l>0?E>=s:s>=E;n=s+=l){t.push(n)}return t}(),G},k.prototype._calc=function(){var l,m,n,o,p,q,r,z;return p=this.el.width(),n=this.el.height(),(this.elementWidth!==p||this.elementHeight!==n||this.dirty)&&(this.elementWidth=p,this.elementHeight=n,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,((r=this.options.axes)===!0||"both"===r||"y"===r)&&(q=function(){var s,t,u,v;for(u=this.grid,v=[],s=0,t=u.length;t>s;s++){m=u[s],v.push(this.measureText(this.yAxisFormat(m)).width)}return v}.call(this),this.left+=Math.max.apply(Math,q)),((z=this.options.axes)===!0||"both"===z||"x"===z)&&(l=function(){var s,t,u;for(u=[],o=s=0,t=this.data.length;t>=0?t>s:s>t;o=t>=0?++s:--s){u.push(this.measureText(this.data[o].text,-this.options.xLabelAngle).height)}return u}.call(this),this.bottom-=Math.max.apply(Math,l)),this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.calc)?this.calc():void 0},k.prototype.transY=function(l){return this.bottom-(l-this.ymin)*this.dy},k.prototype.transX=function(l){return 1===this.data.length?(this.left+this.right)/2:this.left+(l-this.xmin)*this.dx},k.prototype.redraw=function(){return this.raphael.clear(),this._calc(),this.drawGrid(),this.drawGoals(),this.drawEvents(),this.draw?this.draw():void 0},k.prototype.measureText=function(l,m){var n,o;return null==m&&(m=0),o=this.raphael.text(100,100,l).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(m),n=o.getBBox(),o.remove(),n},k.prototype.yAxisFormat=function(l){return this.yLabelFormat(l)},k.prototype.yLabelFormat=function(l){return"function"==typeof this.options.yLabelFormat?this.options.yLabelFormat(l):""+this.options.preUnits+b.commas(l)+this.options.postUnits},k.prototype.drawGrid=function(){var l,m,n,o,p,q,r,z;if(this.options.grid!==!1||(p=this.options.axes)===!0||"both"===p||"y"===p){for(q=this.grid,z=[],n=0,o=q.length;o>n;n++){l=q[n],m=this.transY(l),((r=this.options.axes)===!0||"both"===r||"y"===r)&&this.drawYAxisLabel(this.left-this.options.padding/2,m,this.yAxisFormat(l)),this.options.grid?z.push(this.drawGridLine("M"+this.left+","+m+"H"+(this.left+this.width))):z.push(void 0)}return z}},k.prototype.drawGoals=function(){var l,m,n,o,p,q,r;for(q=this.options.goals,r=[],n=o=0,p=q.length;p>o;n=++o){m=q[n],l=this.options.goalLineColors[n%this.options.goalLineColors.length],r.push(this.drawGoal(m,l))}return r},k.prototype.drawEvents=function(){var l,m,n,o,p,q,r;for(q=this.events,r=[],n=o=0,p=q.length;p>o;n=++o){m=q[n],l=this.options.eventLineColors[n%this.options.eventLineColors.length],r.push(this.drawEvent(m,l))}return r},k.prototype.drawGoal=function(l,m){return this.raphael.path("M"+this.left+","+this.transY(l)+"H"+this.right).attr("stroke",m).attr("stroke-width",this.options.goalStrokeWidth)},k.prototype.drawEvent=function(l,m){return this.raphael.path("M"+this.transX(l)+","+this.bottom+"V"+this.top).attr("stroke",m).attr("stroke-width",this.options.eventStrokeWidth)},k.prototype.drawYAxisLabel=function(l,m,n){return this.raphael.text(l,m,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")},k.prototype.drawGridLine=function(l){return this.raphael.path(l).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},k.prototype.startRange=function(l){return this.hover.hide(),this.selectFrom=l,this.selectionRect.attr({x:l,width:0}).show()},k.prototype.endRange=function(l){var m,n;return this.selectFrom?(n=Math.min(this.selectFrom,l),m=Math.max(this.selectFrom,l),this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(n)].x,end:this.data[this.hitTest(m)].x}),this.selectFrom=null):void 0},k.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},k}(b.EventEmitter),b.parseDate=function(n){var o,p,q,r,E,F,G,j,k,l,m;return"number"==typeof n?n:(p=n.match(/^(\d+) Q(\d)$/),r=n.match(/^(\d+)-(\d+)$/),E=n.match(/^(\d+)-(\d+)-(\d+)$/),G=n.match(/^(\d+) W(\d+)$/),j=n.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),k=n.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),p?new Date(parseInt(p[1],10),3*parseInt(p[2],10)-1,1).getTime():r?new Date(parseInt(r[1],10),parseInt(r[2],10)-1,1).getTime():E?new Date(parseInt(E[1],10),parseInt(E[2],10)-1,parseInt(E[3],10)).getTime():G?(l=new Date(parseInt(G[1],10),0,1),4!==l.getDay()&&l.setMonth(0,1+(4-l.getDay()+7)%7),l.getTime()+604800000*parseInt(G[2],10)):j?j[6]?(F=0,"Z"!==j[6]&&(F=60*parseInt(j[8],10)+parseInt(j[9],10),"+"===j[7]&&(F=0-F)),Date.UTC(parseInt(j[1],10),parseInt(j[2],10)-1,parseInt(j[3],10),parseInt(j[4],10),parseInt(j[5],10)+F)):new Date(parseInt(j[1],10),parseInt(j[2],10)-1,parseInt(j[3],10),parseInt(j[4],10),parseInt(j[5],10)).getTime():k?(m=parseFloat(k[6]),o=Math.floor(m),q=Math.round(1000*(m-o)),k[8]?(F=0,"Z"!==k[8]&&(F=60*parseInt(k[10],10)+parseInt(k[11],10),"+"===k[9]&&(F=0-F)),Date.UTC(parseInt(k[1],10),parseInt(k[2],10)-1,parseInt(k[3],10),parseInt(k[4],10),parseInt(k[5],10)+F,o,q)):new Date(parseInt(k[1],10),parseInt(k[2],10)-1,parseInt(k[3],10),parseInt(k[4],10),parseInt(k[5],10),o,q).getTime()):new Date(parseInt(n,10),0,1).getTime())},b.Hover=function(){function j(k){null==k&&(k={}),this.options=a.extend({},b.Hover.defaults,k),this.el=a("<div class='"+this.options["class"]+"'></div>"),this.el.hide(),this.options.parent.append(this.el)}return j.defaults={"class":"morris-hover morris-default-style"},j.prototype.update=function(k,l,m){return k?(this.html(k),this.show(),this.moveTo(l,m)):this.hide()},j.prototype.html=function(k){return this.el.html(k)},j.prototype.moveTo=function(k,l){var m,n,o,p,q,r;return q=this.options.parent.innerWidth(),p=this.options.parent.innerHeight(),n=this.el.outerWidth(),m=this.el.outerHeight(),o=Math.min(Math.max(0,k-n/2),q-n),null!=l?(r=l-m-10,0>r&&(r=l+10,r+m>p&&(r=p/2-m/2))):r=p/2-m/2,this.el.css({left:o+"px",top:parseInt(r)+"px"})},j.prototype.show=function(){return this.el.show()},j.prototype.hide=function(){return this.el.hide()},j}(),b.Line=function(j){function k(l){return this.hilight=f(this.hilight,this),this.onHoverOut=f(this.onHoverOut,this),this.onHoverMove=f(this.onHoverMove,this),this.onGridClick=f(this.onGridClick,this),this instanceof b.Line?(k.__super__.constructor.call(this,l),void 0):new b.Line(l)}return h(k,j),k.prototype.init=function(){return"always"!==this.options.hideHover?(this.hover=new b.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)):void 0},k.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,hideHover:!1},k.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},k.prototype.calcPoints=function(){var l,m,n,o,p,q;for(p=this.data,q=[],n=0,o=p.length;o>n;n++){l=p[n],l._x=this.transX(l.x),l._y=function(){var r,s,t,u;for(t=l.y,u=[],r=0,s=t.length;s>r;r++){m=t[r],null!=m?u.push(this.transY(m)):u.push(m)}return u}.call(this),q.push(l._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var r,s,t,u;for(t=l._y,u=[],r=0,s=t.length;s>r;r++){m=t[r],null!=m&&u.push(m)}return u}())))}return q},k.prototype.hitTest=function(l){var m,n,o,p,q;if(0===this.data.length){return null}for(q=this.data.slice(1),m=o=0,p=q.length;p>o&&(n=q[m],!(l<(n._x+this.data[m]._x)/2));m=++o){}return m},k.prototype.onGridClick=function(l,m){var n;return n=this.hitTest(l),this.fire("click",n,this.data[n].src,l,m)},k.prototype.onHoverMove=function(l){var m;return m=this.hitTest(l),this.displayHoverForRow(m)},k.prototype.onHoverOut=function(){return this.options.hideHover!==!1?this.displayHoverForRow(null):void 0},k.prototype.displayHoverForRow=function(l){var m;return null!=l?((m=this.hover).update.apply(m,this.hoverContentForRow(l)),this.hilight(l)):(this.hover.hide(),this.hilight())},k.prototype.hoverContentForRow=function(l){var m,n,o,p,q,r,z;for(o=this.data[l],m="<div class='morris-hover-row-label'>"+o.label+"</div>",z=o.y,n=q=0,r=z.length;r>q;n=++q){p=z[n],m+="<div class='morris-hover-point' style='color: "+this.colorFor(o,n,"label")+"'>\n  "+this.options.labels[n]+":\n  "+this.yLabelFormat(p)+"\n</div>"}return"function"==typeof this.options.hoverCallback&&(m=this.options.hoverCallback(l,this.options,m,o.src)),[m,o._x,o._ymax]},k.prototype.generatePaths=function(){var l,m,n,o;return this.paths=function(){var p,q,r,t;for(t=[],m=p=0,q=this.options.ykeys.length;q>=0?q>p:p>q;m=q>=0?++p:--p){o="boolean"==typeof this.options.smooth?this.options.smooth:(r=this.options.ykeys[m],i.call(this.options.smooth,r)>=0),l=function(){var s,x,y,z;for(y=this.data,z=[],s=0,x=y.length;x>s;s++){n=y[s],void 0!==n._y[m]&&z.push({x:n._x,y:n._y[m]})}return z}.call(this),l.length>1?t.push(b.Line.createPath(l,o,this.bottom)):t.push(null)}return t}.call(this)},k.prototype.draw=function(){var l;return((l=this.options.axes)===!0||"both"===l||"x"===l)&&this.drawXAxis(),this.drawSeries(),this.options.hideHover===!1?this.displayHoverForRow(this.data.length-1):void 0},k.prototype.drawXAxis=function(){var o,p,q,r,D,E,F,G,l,m,n=this;for(F=this.bottom+this.options.padding/2,D=null,r=null,o=function(t,v){var y,s,u,w,x;return y=n.drawXAxisLabel(n.transX(v),F,t),x=y.getBBox(),y.transform("r"+-n.options.xLabelAngle),s=y.getBBox(),y.transform("t0,"+s.height/2+"..."),0!==n.options.xLabelAngle&&(w=-0.5*x.width*Math.cos(n.options.xLabelAngle*Math.PI/180),y.transform("t"+w+",0...")),s=y.getBBox(),(null==D||D>=s.x+s.width||null!=r&&r>=s.x)&&s.x>=0&&s.x+s.width<n.el.width()?(0!==n.options.xLabelAngle&&(u=1.25*n.options.gridTextSize/Math.sin(n.options.xLabelAngle*Math.PI/180),r=s.x-u),D=s.x-n.options.xLabelMargin):y.remove()},q=this.options.parseTime?1===this.data.length&&"auto"===this.options.xLabels?[[this.data[0].label,this.data[0].x]]:b.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):function(){var s,t,u,v;for(u=this.data,v=[],s=0,t=u.length;t>s;s++){E=u[s],v.push([E.label,E.x])}return v}.call(this),q.reverse(),m=[],G=0,l=q.length;l>G;G++){p=q[G],m.push(o(p[0],p[1]))}return m},k.prototype.drawSeries=function(){var l,m,n,o,p,q;for(this.seriesPoints=[],l=m=o=this.options.ykeys.length-1;0>=o?0>=m:m>=0;l=0>=o?++m:--m){this._drawLineFor(l)}for(q=[],l=n=p=this.options.ykeys.length-1;0>=p?0>=n:n>=0;l=0>=p?++n:--n){q.push(this._drawPointFor(l))}return q},k.prototype._drawPointFor=function(l){var m,n,o,p,q,r;for(this.seriesPoints[l]=[],q=this.data,r=[],o=0,p=q.length;p>o;o++){n=q[o],m=null,null!=n._y[l]&&(m=this.drawLinePoint(n._x,n._y[l],this.colorFor(n,l,"point"),l)),r.push(this.seriesPoints[l].push(m))}return r},k.prototype._drawLineFor=function(l){var m;return m=this.paths[l],null!==m?this.drawLinePath(m,this.colorFor(null,l,"line"),l):void 0},k.createPath=function(L,M,N){var O,P,Q,R,S,l,m,n,o,p,q,r,J,K;for(m="",M&&(Q=b.Line.gradients(L)),n={y:null},R=J=0,K=L.length;K>J;R=++J){O=L[R],null!=O.y&&(null!=n.y?M?(P=Q[R],l=Q[R-1],S=(O.x-n.x)/4,o=n.x+S,q=Math.min(N,n.y+S*l),p=O.x-S,r=Math.min(N,O.y-S*P),m+="C"+o+","+q+","+p+","+r+","+O.x+","+O.y):m+="L"+O.x+","+O.y:M&&null==Q[R]||(m+="M"+O.x+","+O.y)),n=O}return m},k.gradients=function(m){var n,o,p,q,r,B,C,l;for(o=function(s,t){return(s.y-t.y)/(s.x-t.x)},l=[],p=B=0,C=m.length;C>B;p=++B){n=m[p],null!=n.y?(q=m[p+1]||{y:null},r=m[p-1]||{y:null},null!=r.y&&null!=q.y?l.push(o(r,q)):null!=r.y?l.push(o(r,n)):null!=q.y?l.push(o(n,q)):l.push(null)):l.push(null)}return l},k.prototype.hilight=function(l){var m,n,o,p,q;if(null!==this.prevHilight&&this.prevHilight!==l){for(m=n=0,p=this.seriesPoints.length-1;p>=0?p>=n:n>=p;m=p>=0?++n:--n){this.seriesPoints[m][this.prevHilight]&&this.seriesPoints[m][this.prevHilight].animate(this.pointShrinkSeries(m))}}if(null!==l&&this.prevHilight!==l){for(m=o=0,q=this.seriesPoints.length-1;q>=0?q>=o:o>=q;m=q>=0?++o:--o){this.seriesPoints[m][l]&&this.seriesPoints[m][l].animate(this.pointGrowSeries(m))}}return this.prevHilight=l},k.prototype.colorFor=function(l,m,n){return"function"==typeof this.options.lineColors?this.options.lineColors.call(this,l,m,n):"point"===n?this.options.pointFillColors[m%this.options.pointFillColors.length]||this.options.lineColors[m%this.options.lineColors.length]:this.options.lineColors[m%this.options.lineColors.length]},k.prototype.drawXAxisLabel=function(l,m,n){return this.raphael.text(l,m,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},k.prototype.drawLinePath=function(l,m,n){return this.raphael.path(l).attr("stroke",m).attr("stroke-width",this.lineWidthForSeries(n))},k.prototype.drawLinePoint=function(l,m,n,o){return this.raphael.circle(l,m,this.pointSizeForSeries(o)).attr("fill",n).attr("stroke-width",this.pointStrokeWidthForSeries(o)).attr("stroke",this.pointStrokeColorForSeries(o))},k.prototype.pointStrokeWidthForSeries=function(l){return this.options.pointStrokeWidths[l%this.options.pointStrokeWidths.length]},k.prototype.pointStrokeColorForSeries=function(l){return this.options.pointStrokeColors[l%this.options.pointStrokeColors.length]},k.prototype.lineWidthForSeries=function(l){return this.options.lineWidth instanceof Array?this.options.lineWidth[l%this.options.lineWidth.length]:this.options.lineWidth},k.prototype.pointSizeForSeries=function(l){return this.options.pointSize instanceof Array?this.options.pointSize[l%this.options.pointSize.length]:this.options.pointSize},k.prototype.pointGrowSeries=function(l){return Raphael.animation({r:this.pointSizeForSeries(l)+3},25,"linear")},k.prototype.pointShrinkSeries=function(l){return Raphael.animation({r:this.pointSizeForSeries(l)},25,"linear")},k}(b.Grid),b.labelSeries=function(j,l,r,G,H){var I,J,K,L,M,k,m,n,o,p,q;if(K=200*(l-j)/r,J=new Date(j),m=b.LABEL_SPECS[G],void 0===m){for(q=b.AUTO_LABEL_ORDER,o=0,p=q.length;p>o;o++){if(L=q[o],k=b.LABEL_SPECS[L],K>=k.span){m=k;break}}}for(void 0===m&&(m=b.LABEL_SPECS.second),H&&(m=a.extend({},m,{fmt:H})),I=m.start(J),M=[];(n=I.getTime())<=l;){n>=j&&M.push([m.fmt(I),n]),m.incr(I)}return M},c=function(j){return{span:60*j*1000,start:function(k){return new Date(k.getFullYear(),k.getMonth(),k.getDate(),k.getHours())},fmt:function(k){return""+b.pad2(k.getHours())+":"+b.pad2(k.getMinutes())},incr:function(k){return k.setUTCMinutes(k.getUTCMinutes()+j)}}},d=function(j){return{span:1000*j,start:function(k){return new Date(k.getFullYear(),k.getMonth(),k.getDate(),k.getHours(),k.getMinutes())},fmt:function(k){return""+b.pad2(k.getHours())+":"+b.pad2(k.getMinutes())+":"+b.pad2(k.getSeconds())},incr:function(k){return k.setUTCSeconds(k.getUTCSeconds()+j)}}},b.LABEL_SPECS={decade:{span:172800000000,start:function(j){return new Date(j.getFullYear()-j.getFullYear()%10,0,1)},fmt:function(j){return""+j.getFullYear()},incr:function(j){return j.setFullYear(j.getFullYear()+10)}},year:{span:17280000000,start:function(j){return new Date(j.getFullYear(),0,1)},fmt:function(j){return""+j.getFullYear()},incr:function(j){return j.setFullYear(j.getFullYear()+1)}},month:{span:2419200000,start:function(j){return new Date(j.getFullYear(),j.getMonth(),1)},fmt:function(j){return""+j.getFullYear()+"-"+b.pad2(j.getMonth()+1)},incr:function(j){return j.setMonth(j.getMonth()+1)}},week:{span:604800000,start:function(j){return new Date(j.getFullYear(),j.getMonth(),j.getDate())},fmt:function(j){return""+j.getFullYear()+"-"+b.pad2(j.getMonth()+1)+"-"+b.pad2(j.getDate())},incr:function(j){return j.setDate(j.getDate()+7)}},day:{span:86400000,start:function(j){return new Date(j.getFullYear(),j.getMonth(),j.getDate())},fmt:function(j){return""+j.getFullYear()+"-"+b.pad2(j.getMonth()+1)+"-"+b.pad2(j.getDate())},incr:function(j){return j.setDate(j.getDate()+1)}},hour:c(60),"30min":c(30),"15min":c(15),"10min":c(10),"5min":c(5),minute:c(1),"30sec":d(30),"15sec":d(15),"10sec":d(10),"5sec":d(5),second:d(1)},b.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"],b.Area=function(j){function k(m){var n;return this instanceof b.Area?(n=a.extend({},l,m),this.cumulative=!n.behaveLikeLine,"auto"===n.fillOpacity&&(n.fillOpacity=n.behaveLikeLine?0.8:1),k.__super__.constructor.call(this,n),void 0):new b.Area(m)}var l;return h(k,j),l={fillOpacity:"auto",behaveLikeLine:!1},k.prototype.calcPoints=function(){var m,n,o,p,q,r,x;for(r=this.data,x=[],p=0,q=r.length;q>p;p++){m=r[p],m._x=this.transX(m.x),n=0,m._y=function(){var s,t,u,v;for(u=m.y,v=[],s=0,t=u.length;t>s;s++){o=u[s],this.options.behaveLikeLine?v.push(this.transY(o)):(n+=o||0,v.push(this.transY(n)))}return v}.call(this),x.push(m._ymax=Math.max.apply(Math,m._y))}return x},k.prototype.drawSeries=function(){var m,n,o,p,q,r,z,A;for(this.seriesPoints=[],n=this.options.behaveLikeLine?function(){r=[];for(var s=0,t=this.options.ykeys.length-1;t>=0?t>=s:s>=t;t>=0?s++:s--){r.push(s)}return r}.apply(this):function(){z=[];for(var s=q=this.options.ykeys.length-1;0>=q?0>=s:s>=0;0>=q?s++:s--){z.push(s)}return z}.apply(this),A=[],o=0,p=n.length;p>o;o++){m=n[o],this._drawFillFor(m),this._drawLineFor(m),A.push(this._drawPointFor(m))}return A},k.prototype._drawFillFor=function(m){var n;return n=this.paths[m],null!==n?(n+="L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z",this.drawFilledPath(n,this.fillForSeries(m))):void 0},k.prototype.fillForSeries=function(m){var n;return n=Raphael.rgb2hsl(this.colorFor(this.data[m],m,"line")),Raphael.hsl(n.h,this.options.behaveLikeLine?0.9*n.s:0.75*n.s,Math.min(0.98,this.options.behaveLikeLine?1.2*n.l:1.25*n.l))},k.prototype.drawFilledPath=function(m,n){return this.raphael.path(m).attr("fill",n).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")},k}(b.Line),b.Bar=function(j){function k(l){return this.onHoverOut=f(this.onHoverOut,this),this.onHoverMove=f(this.onHoverMove,this),this.onGridClick=f(this.onGridClick,this),this instanceof b.Bar?(k.__super__.constructor.call(this,a.extend({},l,{parseTime:!1})),void 0):new b.Bar(l)}return h(k,j),k.prototype.init=function(){return this.cumulative=this.options.stacked,"always"!==this.options.hideHover?(this.hover=new b.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)):void 0},k.prototype.defaults={barSizeRatio:0.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50},k.prototype.calc=function(){var l;return this.calcBars(),this.options.hideHover===!1?(l=this.hover).update.apply(l,this.hoverContentForRow(this.data.length-1)):void 0},k.prototype.calcBars=function(){var l,m,n,o,p,q,r;for(q=this.data,r=[],l=o=0,p=q.length;p>o;l=++o){m=q[l],m._x=this.left+this.width*(l+0.5)/this.data.length,r.push(m._y=function(){var s,t,u,v;for(u=m.y,v=[],s=0,t=u.length;t>s;s++){n=u[s],null!=n?v.push(this.transY(n)):v.push(null)}return v}.call(this))}return r},k.prototype.draw=function(){var l;return((l=this.options.axes)===!0||"both"===l||"x"===l)&&this.drawXAxis(),this.drawSeries()},k.prototype.drawXAxis=function(){var q,r,F,G,H,I,J,K,l,m,n,o,p;for(m=this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2),J=null,I=null,p=[],q=n=0,o=this.data.length;o>=0?o>n:n>o;q=o>=0?++n:--n){K=this.data[this.data.length-1-q],r=this.drawXAxisLabel(K._x,m,K.label),l=r.getBBox(),r.transform("r"+-this.options.xLabelAngle),F=r.getBBox(),r.transform("t0,"+F.height/2+"..."),0!==this.options.xLabelAngle&&(H=-0.5*l.width*Math.cos(this.options.xLabelAngle*Math.PI/180),r.transform("t"+H+",0...")),(null==J||J>=F.x+F.width||null!=I&&I>=F.x)&&F.x>=0&&F.x+F.width<this.el.width()?(0!==this.options.xLabelAngle&&(G=1.25*this.options.gridTextSize/Math.sin(this.options.xLabelAngle*Math.PI/180),I=F.x-G),p.push(J=F.x-this.options.xLabelMargin)):p.push(r.remove())}return p},k.prototype.drawSeries=function(){var H,I,J,K,L,M,N,O,l,m,n,o,p,q,r;return J=this.width/this.options.data.length,O=this.options.stacked?1:this.options.ykeys.length,H=(J*this.options.barSizeRatio-this.options.barGap*(O-1))/O,this.options.barSize&&(H=Math.min(H,this.options.barSize)),o=J-H*O-this.options.barGap*(O-1),N=o/2,r=this.ymin<=0&&this.ymax>=0?this.transY(0):null,this.bars=function(){var s,t,u,v;for(u=this.data,v=[],K=s=0,t=u.length;t>s;K=++s){l=u[K],L=0,v.push(function(){var w,y,x,z;for(x=l._y,z=[],m=w=0,y=x.length;y>w;m=++w){q=x[m],null!==q?(r?(p=Math.min(q,r),I=Math.max(q,r)):(p=q,I=this.bottom),M=this.left+K*J+N,this.options.stacked||(M+=m*(H+this.options.barGap)),n=I-p,this.options.verticalGridCondition&&this.options.verticalGridCondition(l.x)&&this.drawBar(this.left+K*J,this.top,J,Math.abs(this.top-this.bottom),this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius),this.options.stacked&&(p-=L),this.drawBar(M,p,H,n,this.colorFor(l,m,"bar"),this.options.barOpacity,this.options.barRadius),z.push(L+=n)):z.push(null)}return z}.call(this))}return v}.call(this)},k.prototype.colorFor=function(l,m,n){var o,p;return"function"==typeof this.options.barColors?(o={x:l.x,y:l.y[m],label:l.label},p={index:m,key:this.options.ykeys[m],label:this.options.labels[m]},this.options.barColors.call(this,o,p,n)):this.options.barColors[m%this.options.barColors.length]},k.prototype.hitTest=function(l){return 0===this.data.length?null:(l=Math.max(Math.min(l,this.right),this.left),Math.min(this.data.length-1,Math.floor((l-this.left)/(this.width/this.data.length))))},k.prototype.onGridClick=function(l,m){var n;return n=this.hitTest(l),this.fire("click",n,this.data[n].src,l,m)},k.prototype.onHoverMove=function(l){var m,n;return m=this.hitTest(l),(n=this.hover).update.apply(n,this.hoverContentForRow(m))},k.prototype.onHoverOut=function(){return this.options.hideHover!==!1?this.hover.hide():void 0},k.prototype.hoverContentForRow=function(m){var n,o,p,q,r,B,C,l;for(p=this.data[m],n="<div class='morris-hover-row-label'>"+p.label+"</div>",l=p.y,o=B=0,C=l.length;C>B;o=++B){r=l[o],n+="<div class='morris-hover-point' style='color: "+this.colorFor(p,o,"label")+"'>\n  "+this.options.labels[o]+":\n  "+this.yLabelFormat(r)+"\n</div>"}return"function"==typeof this.options.hoverCallback&&(n=this.options.hoverCallback(m,this.options,n,p.src)),q=this.left+(m+0.5)*this.width/this.data.length,[n,q]},k.prototype.drawXAxisLabel=function(l,m,n){var o;return o=this.raphael.text(l,m,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},k.prototype.drawBar=function(m,n,o,p,q,r,B){var C,l;return C=Math.max.apply(Math,B),l=0===C||C>p?this.raphael.rect(m,n,o,p):this.raphael.path(this.roundedRect(m,n,o,p,B)),l.attr("fill",q).attr("fill-opacity",r).attr("stroke","none")},k.prototype.roundedRect=function(l,m,n,o,p){return null==p&&(p=[0,0,0,0]),["M",l,p[0]+m,"Q",l,m,l+p[0],m,"L",l+n-p[1],m,"Q",l+n,m,l+n,m+p[1],"L",l+n,m+o-p[2],"Q",l+n,m+o,l+n-p[2],m+o,"L",l+p[3],m+o,"Q",l,m+o,l,m+o-p[3],"Z"]},k}(b.Grid),b.Donut=function(j){function k(l){this.resizeHandler=f(this.resizeHandler,this),this.select=f(this.select,this),this.click=f(this.click,this);var m=this;if(!(this instanceof b.Donut)){return new b.Donut(l)}if(this.options=a.extend({},this.defaults,l),this.el="string"==typeof l.element?a(document.getElementById(l.element)):a(l.element),null===this.el||0===this.el.length){throw new Error("Graph placeholder not found.")}void 0!==l.data&&0!==l.data.length&&(this.raphael=new Raphael(this.el[0]),this.options.resize&&a(window).bind("resize",function(){return null!=m.timeoutId&&window.clearTimeout(m.timeoutId),m.timeoutId=window.setTimeout(m.resizeHandler,100)}),this.setData(l.data))}return h(k,j),k.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:b.commas,resize:!1},k.prototype.redraw=function(){var ad,ae,l,m,n,o,p,q,r,s,t,u,v,w,x,V,W,X,Y,Z,aa,ab,ac;for(this.raphael.clear(),ae=this.el.width()/2,l=this.el.height()/2,v=(Math.min(ae,l)-10)/3,t=0,Z=this.values,w=0,W=Z.length;W>w;w++){u=Z[w],t+=u}for(q=5/(2*v),ad=1.9999*Math.PI-q*this.data.length,o=0,n=0,this.segments=[],aa=this.values,m=x=0,X=aa.length;X>x;m=++x){u=aa[m],r=o+q+ad*(u/t),s=new b.DonutSegment(ae,l,2*v,v,o,r,this.data[m].color||this.options.colors[n%this.options.colors.length],this.options.backgroundColor,n,this.raphael),s.render(),this.segments.push(s),s.on("hover",this.select),s.on("click",this.click),o=r,n+=1}for(this.text1=this.drawEmptyDonutLabel(ae,l-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(ae,l+10,this.options.labelColor,14),p=Math.max.apply(Math,this.values),n=0,ab=this.values,ac=[],V=0,Y=ab.length;Y>V;V++){if(u=ab[V],u===p){this.select(n);break}ac.push(n+=1)}return ac},k.prototype.setData=function(l){var m;return this.data=l,this.values=function(){var n,o,p,q;for(p=this.data,q=[],n=0,o=p.length;o>n;n++){m=p[n],q.push(parseFloat(m.value))}return q}.call(this),this.redraw()},k.prototype.click=function(l){return this.fire("click",l,this.data[l])},k.prototype.select=function(l){var m,n,o,p,q,r;for(r=this.segments,p=0,q=r.length;q>p;p++){n=r[p],n.deselect()}return o=this.segments[l],o.select(),m=this.data[l],this.setLabels(m.label,this.options.formatter(m.value,m))},k.prototype.setLabels=function(n,o){var p,q,r,C,D,E,l,m;return p=2*(Math.min(this.el.width()/2,this.el.height()/2)-10)/3,C=1.8*p,r=p/2,q=p/3,this.text1.attr({text:n,transform:""}),D=this.text1.getBBox(),E=Math.min(C/D.width,r/D.height),this.text1.attr({transform:"S"+E+","+E+","+(D.x+D.width/2)+","+(D.y+D.height)}),this.text2.attr({text:o,transform:""}),l=this.text2.getBBox(),m=Math.min(C/l.width,q/l.height),this.text2.attr({transform:"S"+m+","+m+","+(l.x+l.width/2)+","+l.y})},k.prototype.drawEmptyDonutLabel=function(l,m,n,o,p){var q;return q=this.raphael.text(l,m,"").attr("font-size",o).attr("fill",n),null!=p&&q.attr("font-weight",p),q},k.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},k}(b.EventEmitter),b.DonutSegment=function(j){function k(m,n,o,p,q,r,B,C,D,l){this.cx=m,this.cy=n,this.inner=o,this.outer=p,this.color=B,this.backgroundColor=C,this.index=D,this.raphael=l,this.deselect=f(this.deselect,this),this.select=f(this.select,this),this.sin_p0=Math.sin(q),this.cos_p0=Math.cos(q),this.sin_p1=Math.sin(r),this.cos_p1=Math.cos(r),this.is_long=r-q>Math.PI?1:0,this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5),this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer),this.hilight=this.calcArc(this.inner)}return h(k,j),k.prototype.calcArcPoints=function(l){return[this.cx+l*this.sin_p0,this.cy+l*this.cos_p0,this.cx+l*this.sin_p1,this.cy+l*this.cos_p1]},k.prototype.calcSegment=function(p,q){var r,E,F,G,H,I,l,m,n,o;return n=this.calcArcPoints(p),r=n[0],F=n[1],E=n[2],G=n[3],o=this.calcArcPoints(q),H=o[0],l=o[1],I=o[2],m=o[3],"M"+r+","+F+("A"+p+","+p+",0,"+this.is_long+",0,"+E+","+G)+("L"+I+","+m)+("A"+q+","+q+",0,"+this.is_long+",1,"+H+","+l)+"Z"},k.prototype.calcArc=function(l){var m,n,o,p,q;return q=this.calcArcPoints(l),m=q[0],o=q[1],n=q[2],p=q[3],"M"+m+","+o+("A"+l+","+l+",0,"+this.is_long+",0,"+n+","+p)},k.prototype.render=function(){var l=this;return this.arc=this.drawDonutArc(this.hilight,this.color),this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return l.fire("hover",l.index)},function(){return l.fire("click",l.index)})},k.prototype.drawDonutArc=function(l,m){return this.raphael.path(l).attr({stroke:m,"stroke-width":2,opacity:0})},k.prototype.drawDonutSegment=function(l,m,n,o,p){return this.raphael.path(l).attr({fill:m,stroke:n,"stroke-width":3}).hover(o).click(p)},k.prototype.select=function(){return this.selected?void 0:(this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0)},k.prototype.deselect=function(){return this.selected?(this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1):void 0},k}(b.EventEmitter)}).call(this);